!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(jQuery){+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.transitionEnd=function(t){function e(a){if(a.target===this)for(t.call(this,a),i=0;i<o.length;i++)n.off(o[i],e)}var i,o=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;if(t)for(i=0;i<o.length;i++)n.on(o[i],e);return this},t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}),t.touchEvents={start:t.support.touch?"touchstart":"mousedown",move:t.support.touch?"touchmove":"mousemove",end:t.support.touch?"touchend":"mouseup"},t.getTouchPosition=function(t){return t=t.originalEvent||t,"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type?{x:t.targetTouches[0].pageX,y:t.targetTouches[0].pageY}:{x:t.pageX,y:t.pageY}},t.extend(Array.prototype,{contains:function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return!0;return!1},indexOf:function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]==t)return e;return-1},remove:function(t){var e=this.indexOf(t);return e!=-1&&this.splice(e,1),this}})}(jQuery),+function(t){"use strict";var e=function(e,i){this.container=t(e),this.handler=this.container.find(".weui-slider__handler"),this.track=this.container.find(".weui-slider__track"),this.value=this.container.find(".weui-slider-box__value"),this.input=this.container.find("input.hidden"),this.bind(),"function"==typeof i&&(this.callback=i)};e.prototype.bind=function(){this.container.on(t.touchEvents.start,t.proxy(this.touchStart,this)).on(t.touchEvents.end,t.proxy(this.touchEnd,this)),t(document.body).on(t.touchEvents.move,t.proxy(this.touchMove,this))},e.prototype.touchStart=function(e){e.preventDefault(),this.start=t.getTouchPosition(e),this.width=this.container.find(".weui-slider__inner").width(),this.left=parseInt(this.container.find(".weui-slider__handler").css("left")),this.touching=!0},e.prototype.touchMove=function(e){if(!this.touching)return!1;var i=t.getTouchPosition(e),o=i.x-this.start.x,n=o+this.left,a=parseInt(n/this.width*100);a<0&&(a=0),a>100&&(a=100),this.handler.css("left",a+"%"),this.track.css("width",a+"%"),this.value.text(a),this.input.val(a),this.callback&&this.callback.call(this,a),this.container.trigger("change",a)},e.prototype.touchEnd=function(t){this.touching=!1},t.fn.slider=function(i){this.each(function(){var o=t(this),n=o.data("slider");return n?n:void o.data("slider",new e(this,i))})},t(window).on("load",function(){t(".weui-slider-box").each(function(){t(this).slider()})})}(jQuery),+function(t){"use strict";var e,i=Object.prototype.toString,o=function(i,o){var n=e.find(":input[name='"+i+"']");if("checkbox"==n.attr("type")){if(null!==o)for(var a=t("[name='"+i+"']"),s=o.split(","),r=0;r<a.length;r++)for(var l=0;l<s.length;l++)a[r].value==s[l]&&a[r].click()}else if("radio"==n.attr("type"))n.each(function(){for(var e=t("[name='"+i+"']"),n=0;n<e.length;n++)e[n].value==o&&e[n].click()});else if("textarea"==n.attr("type"))e.find("[name='"+i+"']").html(o);else if(n[0]&&"SELECT"==n[0].tagName)e.find("[name='"+i+"']").val(o).trigger("change");else{var d=e.find("[name='"+i+"']");if(d.length>0){d.val(o);var u=e.find("[data-name='"+i+"']");if(u&&u.length>0){var c=u.eq(0).siblings(".fileuploader-items").find(".fileuploader-items-list"),p=o.split(","),h=_.template(t("#template"+u.attr("id")).html());if(p.length>0)for(var r=0;r<p.length;r++){var f=h({img:p[r]});c.prepend(f)}}}}};t.fn.setform=function(n){e=this,t.each(n,function(e,n){"[object Object]"==i.call(n)?t.each(n,function(t,i){o(e+"."+t,i)}):"[object Array]"==i.call(n)?console.log("["+e+"][object Array]字段是数组类型,斩不支持"):o(e,n)})}}(jQuery),+function(t){"use strict";var e;t.modal=function(i,o){i=t.extend({},e,i);var n=i.buttons,a=n.map(function(t,e){return'<a href="javascript:;" class="weui-dialog__btn '+(t.className||"")+'">'+t.text+"</a>"}).join(""),s='<div class="weui-dialog"><div class="weui-dialog__hd"><strong class="weui-dialog__title">'+i.title+"</strong></div>"+(i.text?'<div class="weui-dialog__bd">'+i.text+"</div>":"")+'<div class="weui-dialog__ft">'+a+"</div></div>",r=t.openModal(s,o);return r.find(".weui-dialog__btn").each(function(e,o){var a=t(o);a.click(function(){i.autoClose&&t.closeModal(),n[e].onClick&&n[e].onClick.call(r)})}),r},t.openModal=function(e,i){var o=t("<div class='weui-mask'></div>").appendTo(document.body);o.show();var n=t(e).appendTo(document.body);return i&&n.transitionEnd(function(){i.call(n)}),n.show(),o.addClass("weui-mask--visible"),n.addClass("weui-dialog--visible"),n},t.closeModal=function(){t(".weui-mask").removeClass("weui-mask").transitionEnd(function(){t(this).remove()}),t(".weui-dialog--visible").removeClass("weui-dialog--visible").transitionEnd(function(){t(this).remove()})},t.alert=function(i,o,n){var a;return"object"==typeof i?a=i:("function"==typeof o&&(n=arguments[1],o=void 0),a={text:i,title:o,onOK:n}),t.modal({text:a.text,title:a.title,buttons:[{text:e.buttonOK,className:"primary",onClick:a.onOK}]})},t.confirm=function(i,o,n,a){var s;return"object"==typeof i?s=i:("function"==typeof o&&(a=arguments[2],n=arguments[1],o=void 0),s={text:i,title:o,onOK:n,onCancel:a}),t.modal({text:s.text,title:s.title,buttons:[{text:e.buttonCancel,className:"default",onClick:s.onCancel},{text:e.buttonOK,className:"primary",onClick:s.onOK}]})},t.prompt=function(i,o,n,a,s){var r;"object"==typeof i?r=i:("function"==typeof o&&(s=arguments[3],a=arguments[2],n=arguments[1],o=void 0),r={text:i,title:o,input:s,onOK:n,onCancel:a,empty:!1});var l=t.modal({text:'<p class="weui-prompt-text">'+(r.text||"")+'</p><input type="text" class="weui-input weui-prompt-input" id="weui-prompt-input" value="'+(r.input||"")+'" />',title:r.title,autoClose:!1,buttons:[{text:e.buttonCancel,className:"default",onClick:function(){t.closeModal(),r.onCancel&&r.onCancel.call(l)}},{text:e.buttonOK,className:"primary",onClick:function(){var e=t("#weui-prompt-input").val();return r.empty||""!==e&&null!==e?(t.closeModal(),void(r.onOK&&r.onOK.call(l,e))):(l.find(".weui-prompt-input").focus()[0].select(),!1)}}]},function(){this.find(".weui-prompt-input").focus()[0].select()});return l},t.login=function(i,o,n,a,s,r){var l;"object"==typeof i?l=i:("function"==typeof o&&(r=arguments[4],s=arguments[3],a=arguments[2],n=arguments[1],o=void 0),l={text:i,title:o,username:s,password:r,onOK:n,onCancel:a});var d=t.modal({text:'<p class="weui-prompt-text">'+(l.text||"")+'</p><input type="text" class="weui-input weui-prompt-input" id="weui-prompt-username" value="'+(l.username||"")+'" placeholder="输入用户名" /><input type="password" class="weui-input weui-prompt-input" id="weui-prompt-password" value="'+(l.password||"")+'" placeholder="输入密码" />',title:l.title,autoClose:!1,buttons:[{text:e.buttonCancel,className:"default",onClick:function(){t.closeModal(),l.onCancel&&l.onCancel.call(d)}},{text:e.buttonOK,className:"primary",onClick:function(){var e=t("#weui-prompt-username").val(),i=t("#weui-prompt-password").val();return l.empty||""!==e&&null!==e?l.empty||""!==i&&null!==i?(t.ajax({type:"POST",url:"/login.html",data:{username:e,password:i},dataType:"json",success:function(e){"success"==e.status||1==e.status?(t.toast(e.message||e.msg),t.closeModal(),t('[data-ride="loadData"]').trigger("reload")):t.toast(e.message||e.msg,"forbidden")},error:function(e,i){$thiz.data("load","1"),t.toast("加载数据出错","forbidden")}}),void(l.onOK&&l.onOK.call(d,e,i))):(d.find("#weui-prompt-password").focus()[0].select(),!1):(d.find("#weui-prompt-username").focus()[0].select(),!1)}}]},function(){this.find("#weui-prompt-username").focus()[0].select()});return d},e=t.modal.prototype.defaults={title:"提示",text:void 0,buttonOK:"确定",buttonCancel:"取消",buttons:[{text:"确定",className:"primary"}],autoClose:!0},t.cookie=function(t,e,i){if("undefined"==typeof e){var o=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var s=jQuery.trim(n[a]);if(s.substring(0,t.length+1)==t+"="){o=decodeURIComponent(s.substring(t.length+1));break}}return o}i=i||{},null===e&&(e="",i.expires=-1);var r="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var l;"number"==typeof i.expires?(l=new Date,l.setTime(l.getTime()+24*i.expires*60*60*1e3)):l=i.expires,r="; expires="+l.toUTCString()}var d=i.path?"; path="+i.path:"",u=i.domain?"; domain="+i.domain:"",c=i.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),r,d,u,c].join("")}}(jQuery),+function($){"use strict";$.fn.scrollHeight=function(){return $(this).prop("scrollHeight")},$.fn.scrollBottom=function(){return $(this).is(document)?$(this).height()-$(this).scrollTop()-$(window).height():$(this).prop("scrollHeight")-$(this).prop("offsetHeight")-$(this).scrollTop()},$.extend({isCollsion:function(t,e,i,o,n,a,s,r){return!(t>n&&t>s||n>t&&n>i||e>a&&e>r||a>e&&a>o)}}),$.fn.isVisable=function(t){t=$.extend({offsetTop:0,offsetLeft:0,addTop:0,addRight:0,addBottom:0,addLeft:0},t);var e=$(this),i={begin_left:e.offset().left+t.offsetLeft+t.addLeft,begin_top:e.offset().top+t.offsetTop+t.addTop};i.end_left=i.begin_left+e.width()+t.addRight,i.end_top=i.begin_top+e.height()+t.addBottom;var o={begin_left:$(window).scrollLeft(),begin_top:$(window).scrollTop()};return o.end_left=o.begin_left+$(window).width(),o.end_top=o.begin_top+$(window).height(),$.isCollsion(i.begin_left,i.begin_top,i.end_left,i.end_top,o.begin_left,o.begin_top,o.end_left,o.end_top)};var Infinite=function(t,e){this.option=$.extend({distance:50,loadmore:".weui-loadmore"},e|{}),this.container=$(t),this.container.data("infinite",this),this.attachEvents()};Infinite.prototype.scroll=function(){var t=this.container;if(t.find(this.option.loadmore).isVisable())t.trigger("infinite");else{var e=t.scrollHeight()-($(window).height()+t.scrollTop());e<=this.option.distance&&t.trigger("infinite")}},Infinite.prototype.attachEvents=function(t){var e=this.container,i="BODY"===e[0].tagName.toUpperCase()?$(document):e;i[t?"off":"on"]("scroll",$.proxy(this.scroll,this))},Infinite.prototype.detachEvents=function(t){this.attachEvents(!0)};var infinite=function(t){attachEvents(t)};$.fn.infinite=function(t){return this.each(function(){new Infinite(this,t)})},$.fn.destroyInfinite=function(){return this.each(function(){var t=$(this).data("infinite");t&&t.detachEvents&&t.detachEvents()})},$.extend({getUrlParams:function(){var t,e,i,o=window.location.href,n={},a=o.indexOf("?"),s=o.indexOf("#"),r=o.substr(a+1);if(s===-1&&(s=o.length),r)for(t=r.split("&"),i=t.length;i--;)e=t[i].split("="),n[e[0]]=decodeURIComponent(e[1]).replace(/\+/g," ");return n},getUrlParam:function(t){return this.getUrlParams()[t]},getJsonData:function(t){var e={};return $.each(t.data(),function(t,i){"object"!=typeof i&&"url"!=t&&(e[t]=i)}),e},getParamData:function(t,e){var i=this.getJsonData(t);return i=$.extend(i,e||{}),$.param(i)},arrToStr:function(t){return(t||[]).join(",").replace(/^[]/,"")}}),$(window).on("load",function(){function loadRide(t){function e(t){t&&(a.data("page")>a.data("total")&&(a.data("load","0"),l.hide(),r.hide(),d.show(),a.destroyInfinite()),t.resolve())}function i(t,i,o){function n(){a.data("page")>a.data("total")||(d&&1==d.length&&$.each(d.data(),function(t,e){"object"!=typeof e&&(r[t]=e)}),$.ajax({type:"POST",url:a.attr("url"),data:r,dataType:"json",beforeSend:function(){a.data("load","0")},success:function(t){if("string"==typeof t)return a.data("load","0"),a.data("total",0),void $.toast("加载数据出错","forbidden");if(a.data("load","1"),"success"==t.status||1==t.status){var i=t.rows;if(i.length>0){a.data("page",a.data("page")+1),a.data("total",t.totalPage);var n=a.data("trigger"),s=_.template($("#template"+a.attr("id")).html()),r=a.attr("templatelinks"),l=null;null!=r&&(l=r.split(","));for(var d="",u=0;u<i.length;u++)i[u].i=u,i[u].href=i[u].href?i[u].href:"",i[u].templateclz="user-load",d+=s(i[u]);if(a.append(d),null!=l)for(var c=0;c<l.length;c++){var s=_.template($("#template"+l[c]).html());d="";for(var u=0;u<i.length;u++)d+=s(i[u]);$("#"+l[c]).html(d)}n&&$(n)&&"0"==$(n).data("load")&&$(n).trigger("loadSuccess")}else a.data("total",0)}else a.data("total",0),$.toast(t.message||t.msg,"forbidden");e(o)},error:function(t,e){a.data("load","1"),$.toast("加载数据出错","forbidden")}}))}function s(){"1"==d.data("load")?(null!=u&&clearTimeout(u),n()):u=setTimeout(function(){s()},100)}var r={};$.each(a.data(),function(t,e){"object"!=typeof e&&(r[t]=e)});var l=$.getUrlParams();l._ajax_page&&"1"==l._ajax_page&&(r=$.extend(r,l));var d=a.closest(".pcontainer"),u=null;d&&1==d.length?s():n()}function o(t,o,n){var s=a.data("total");s=s?s:"1",parseInt(o)<=parseInt(s)?i(t,o,n):e(n)}function n(t){t.done(function(){if(s.isVisable()&&"1"==a.data("load")){var t=$.Deferred();n(t)}}).fail(function(){$.toast("加载数据出错","forbidden")}),a.isVisable()&&"1"==a.data("load")&&o(a.data("row"),a.data("page"),t)}var a=$(t),s=$(".weui-loadmore-"+a.attr("id")),r=s.find(".weui-loading"),l=s.find(".weui-loadmore_data"),d=s.find(".weui-loadmore_nodata");if(a.data("isinfinite")){var u=$.Deferred();l.show(),r.show(),d.hide(),n(u),$("#page").infinite({loadmore:".weui-loadmore-"+a.attr("id")}).on("infinite",function(){var t=this;if(!t.loading){t.loading=!0;var e=$.Deferred();o(a.data("row"),a.data("page"),e),e.done(function(){t.loading=!1}).fail(function(){t.loading=!1})}})}else s.hide(),i(a.data("row"),a.data("page"))}function ajaxEditData(){var t=$.getUrlParams(),e=$("form#form"+t.formid);1==e.length&&$.ajax({type:"POST",url:e.data("url"),data:t,dataType:"json",success:function(t){"success"==t.status||1==t.status?e.setform(t.rows[0]):$.toast(t.message||t.msg)},error:function(t,i){e.data("load","1"),$.toast("加载数据出错","forbidden")}})}function peditdata(){var t=0;$('[data-ride="loadData"]').each(function(){"1"==$(this).data("load")&&t++}),t==loadlength?(null!=timeoutid&&clearTimeout(timeoutid),ajaxEditData()):timeoutid=setTimeout(function(){peditdata()},100)}$(".weui-tabbar").each(function(){var t=$(this).height(),e=$('<div class="bottom"></div>');$(this).closest(".page").css("bottom",t+"px").after(e),$(this).appendTo(e)});var loginCheck=!1;if($('[data-login="1"]').length>0&&$.get("/loginCheck.html",function(t){"1"==t?(loginCheck=!0,$('[data-ride="loadData"]').trigger("reload")):$.login("","登录")}),$('[data-ride="loadData"]').each(function(){var t=$(this).data("login");!loginCheck&&"0"!=t&&t||loadRide(this),$(this).off("reload").on("reload",function(){$(this).data({load:"1",page:1}),loadRide(this)})}),$.getUrlParam("_ajax_page")&&"1"==$.getUrlParam("_ajax_page")&&($("#PageBack").show(),$("#PageBack").click(function(){history.back()})),$(document).off("click.ajax-page",".ajax-page").on("click.ajax-page",".ajax-page",function(){$(this).data("url")||$(this).data("url",$(this).attr("href"));var t=$(this).data("url");return t+=(t.indexOf("?")==-1?"?":"&")+$.getParamData($(this),{_ajax_page:"1"}),$(this).attr("href",t),!0}),$(".weui-uploader-files").each(function(){var thiz=$(this);thiz.fileuploader({captions:{button:function(t){return"请选择图片"},feedback:function(t){return"请选择图片上传"},feedback2:function(t){return"选择了"+t.length},drop:"拖动图片到这里上传",paste:'<div class="fileuploader-pending-loader"><div class="left-half" style="animation-duration: ${ms}s"></div><div class="spinner" style="animation-duration: ${ms}s"></div><div class="right-half" style="animation-duration: ${ms}s"></div></div>复制图片到这里，点击可以取消',removeConfirmation:"你确定要删除吗？",errors:{filesLimit:"只允许上传 ${limit}张图片",filesType:"只允许上传图片类型 ${extensions}",fileSize:"${name}图片太大!图片大小不允许超出${fileMaxSize}MB.",filesSizeAll:"图片太大!图片大小不允许超出${maxSize} MB.",fileName:"你选择的图片${name}.",folderUpload:"不允许上传文件夹"}},limit:"0"==thiz.data("multi")?1:null,extensions:["jpg","jpeg","png","gif","bmp"],changeInput:" ",theme:"thumbnails",enableApi:!0,addMore:!0,listInput:thiz.data("name"),thumbnails:{box:'<div class="fileuploader-items"><ul class="fileuploader-items-list"><li class="fileuploader-thumbnails-input"><div class="fileuploader-thumbnails-input-inner">+</div></li></ul></div>',item:'<li class="fileuploader-item"><div class="fileuploader-item-inner"><div class="thumbnail-holder">${image}</div><div class="actions-holder"><a class="fileuploader-action fileuploader-action-remove" title="Remove"><i class="remove"></i></a></div><div class="progress-holder">${progressBar}</div></div></li>',item2:'<li class="fileuploader-item"><div class="fileuploader-item-inner"><div class="thumbnail-holder">${image}</div><div class="actions-holder"><a class="fileuploader-action fileuploader-action-remove" title="Remove"><i class="remove"></i></a></div></div></li>',removeConfirmation:!1,startImageRenderer:!0,canvasImage:!1,_selectors:{list:".fileuploader-items-list",item:".fileuploader-item",start:".fileuploader-action-start",retry:".fileuploader-action-retry",remove:".fileuploader-action-remove"},onItemShow:function(t,e){var i=e.find(".fileuploader-thumbnails-input");i.insertAfter(t.html),"image"==t.format&&t.html.find(".fileuploader-item-icon").hide()}},afterRender:function(t,e,i,o){var n=this;t.off("click.fileuploader-action-remove").on("click.fileuploader-action-remove",".fileuploader-action-remove",function(e){if(0==n.upload.uploadImages.length){var i=[];t.find("img.userload").each(function(){i.push($(this).attr("src"))}),n.upload.uploadImages=i}$(this).closest("li").data("url")?n.upload.uploadImages.remove($(this).closest("li").data("url")):n.upload.uploadImages.remove($(this).closest("li").find("img").attr("src")),$(this).closest("li").remove(),t.trigger("change.fileuploader-items-list")}),t.off("change.fileuploader-items-list").on("change.fileuploader-items-list",function(){$("input[name='"+thiz.data("name")+"']").val($.arrToStr(n.upload.uploadImages))});var a=t.find(".fileuploader-thumbnails-input"),s=$.fileuploader.getInstance(o.get(0));a.on("click",function(){s.open()})},upload:{url:window.UEDITOR_SERVER_URL+"?action=uploadimage",data:null,type:"POST",enctype:"multipart/form-data",start:!0,synchron:!0,beforeSend:null,dataType:"json",uploadImages:[],onSuccess:function(data,item){var uploadImage=eval("["+data+"]")[0],url=null;uploadImage.url&&(url=window.STATIC_URL+uploadImage.url,this.uploadImages.push(url)),setTimeout(function(){item.html.find(".progress-holder").hide(),item.html.data({url:url}),item.renderImage(),item.data.url=url},400)},onError:function(t){t.html.find(".progress-holder").hide(),t.html.find(".fileuploader-item-icon i").text("Failed!")},onProgress:function(t,e){var i=e.html.find(".progress-holder");i.length>0&&(i.show(),i.find(".fileuploader-progressbar .bar").width(t.percentage+"%"))},onComplete:function(t,e,i,o,n,a){var s=this.uploadImages,r=[];t.find("img.userload").each(function(){s.contains($(this).attr("src"))||r.push($(this).attr("src"))}),s=r.concat(s),this.uploadImages=s,s.length>0?$("input[name='"+thiz.data("name")+"']").val($.arrToStr(this.uploadImages)):$("input[name='"+thiz.data("name")+"']").val("")}},dragDrop:{container:".fileuploader-thumbnails-input"}})}),$('[data-ride="form"]').each(function(){var t=$(this),e=$("#errors"+t.attr("id"));t.bootstrapValidator().on("error.form.bv",function(i,o){var n=e.find("small");n.length>0&&$.toast(n.eq(0).html(),"forbidden"),t.bootstrapValidator("disableSubmitButtons",!1)}).on("success.field.bv",function(t,i){e.find('li[data-bv-for="'+i.field+'"]').remove()}).on("success.form.bv",function(e){e.preventDefault();var i=$(e.target);i.ajaxSubmit({type:"post",dataType:"json",beforeSend:function(){$.toast("正在保存数据，请等待...","text",null,!1)},success:function(e){"success"==e.status||1==e.status?($.hideLoading(),$.toast(e.message||e.msg)):$.toast(e.message||e.msg,"forbidden");var i=t.data("listhref");i&&!i.startsWith("empty")?location.href=i:t.bootstrapValidator("disableSubmitButtons",!1)},error:function(e,i){t.bootstrapValidator("disableSubmitButtons",!1),$.toast("加载数据出错","forbidden")}})})}),$(document).off("click.remove",".btn-plus-right .fa-remove").on("click.remove",".btn-plus-right .fa-remove",function(t){function e(){var t=i.closest(".table-container");$.ajax({type:"post",dataType:"json",url:"/data/remove.html",data:{formid:t.data("formid"),dashboardid:t.data("dashboardid"),values:[i.data("id")]},success:function(t){"success"==t.status?($.toast(t.message),i.closest(".user-load").remove()):$.toast(t.message,"forbidden")}})}t.stopPropagation(),t.preventDefault();var i=$(this);return null!=$.cookie("userName")?($.confirm({title:"温馨提示",text:"你确定删除吗？",onOK:function(){e()},onCancel:function(){}}),!0):void $.login("","登录")}),$(document).off("click.remove",".btn-plus-right .fa-edit").on("click.remove",".btn-plus-right .fa-edit",function(t){t.stopPropagation(),t.preventDefault();var e=$(this);if(null!=$.cookie("userName")){var i=e.closest(".table-container"),o=i.attr("edithref");if(!o||o.startsWith("empty"))return $.toast("请先设置编辑页面哟","forbidden"),!1;var n=i.data();location.href=o+(o.indexOf("?")==-1?"?":"&")+$.param({dashboardid:n.dashboardid,formid:n.formid,id:e.data("id"),_ajax_page:"1",_ajax_edit_page:"1"})}else $.login("","登录")}),$(document).off("click.edit",".btn-plus .edit").on("click.edit",".btn-plus .edit",function(t){var e=$(this),i=e.attr("href");if(i.startsWith("empty")||""==i)return $.toast("请先设置编辑页面哟","forbidden"),!1;e.data("url")||e.data("url",e.attr("href"));var o=e.data("url");return o+=(o.indexOf("?")==-1?"?":"&")+$.getParamData(e,{_ajax_page:"1"}),e.attr("href",o),!0}),$.getUrlParam("_ajax_edit_page")&&"1"==$.getUrlParam("_ajax_edit_page")){var loadlength=$('[data-ride="loadData"]').length,timeoutid=null;peditdata()}})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),a=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),s="string"==typeof e?e:a.slide;n||o.data("bs.carousel",n=new i(this,a)),"number"==typeof e?n.to(e):s?n[s]():a.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var n="prev"==t?-1:1,a=(i+n)%this.$items.length;return this.$items.eq(a)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),a=o||this.getItemForDirection(e,n),s=this.interval,r="next"==e?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var d=a[0],u=t.Event("slide.bs.carousel",{relatedTarget:d,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(a)]);c&&c.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:d,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,n.addClass(r),a.addClass(r),n.one("bsTransitionEnd",function(){a.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(p)),s&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),a=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var s=t.extend({},a.data(),n.data()),r=n.attr("data-slide-to");r&&(s.interval=!1),e.call(a,s),r&&a.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";var e=function(e,i){i=i||"";var o=(t("<div class='weui-mask_transparent'></div>").appendTo(document.body),'<div class="weui-toast '+i+'">'+e+"</div>"),n=t(o).appendTo(document.body);n.show(),n.addClass("weui-toast--visible")},i=function(e){t(".weui-mask_transparent").remove(),t(".weui-toast--visible").removeClass("weui-toast--visible").one("bsTransitionEnd",function(){var i=t(this);i.remove(),e&&e(i)}).emulateTransitionEnd(500)};t.toast=function(t,n,a,s){"function"==typeof n&&(a=n),s=s||!0;var r,l="weui-icon-success-no-circle",d=o.duration;"cancel"==n?(r="weui-toast_cancel",l="weui-icon-cancel"):"forbidden"==n?(r="weui-toast--forbidden",l="weui-icon-warn"):"text"==n?r="weui-toast--text":"number"==typeof n&&(d=n),e('<i class="'+l+' weui-icon_toast"></i><p class="weui-toast_content">'+(t||"已经完成")+"</p>",r),s&&setTimeout(function(){i(a)},d)},t.showLoading=function(t){var i='<div class="weui_loading">';i+='<i class="weui-loading weui-icon_toast"></i>',i+="</div>",i+='<p class="weui-toast_content">'+(t||"数据加载中")+"</p>",e(i,"weui_loading_toast")},t.hideLoading=function(){i()};var o=t.toast.prototype.defaults={duration:2500}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),a="object"==typeof e&&e;!n&&/destroy|hide/.test(e)||(n||o.data("bs.tooltip",n=new i(this,a)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),a=n.length;a--;){var s=n[a];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var r="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,a=this.tip(),s=this.getUID(this.type);this.setContent(),a.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&a.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(r);d&&(r=r.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),c=a[0].offsetWidth,p=a[0].offsetHeight;if(d){var h=r,f=this.getPosition(this.$viewport);r="bottom"==r&&u.bottom+p>f.bottom?"top":"top"==r&&u.top-p<f.top?"bottom":"right"==r&&u.right+c>f.width?"left":"left"==r&&u.left-c<f.left?"right":r,a.removeClass(h).addClass(r)}var m=this.getCalculatedOffset(r,u,c,p);this.applyPlacement(m,r);var v=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,
"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,a=o[0].offsetHeight,s=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(r)&&(r=0),e.top+=s,e.left+=r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,d=o[0].offsetHeight;"top"==i&&d!=a&&(e.top=e.top+a-d);var u=this.getViewportAdjustedDelta(i,e,l,d);u.left?e.left+=u.left:e.top+=u.top;var c=/top|bottom/.test(i),p=c?2*u.left-n+l:2*u.top-a+d,h=c?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(p,o[0][h],c)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&a.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,a=t(this.$tip),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var a=o?{top:0,left:0}:e.offset(),s={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,s,r,a)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var a=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-a-s.scroll,l=e.top+a-s.scroll+o;r<s.top?n.top=s.top-r:l>s.top+s.height&&(n.top=s.top+s.height-l)}else{var d=e.left-a,u=e.left+a+i;d<s.left?n.left=s.left-d:u>s.right&&(n.left=s.left+s.width-u)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),a="object"==typeof e&&e;!n&&/destroy|hide/.test(e)||(n||o.data("bs.popover",n=new i(this,a)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.5",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery)});